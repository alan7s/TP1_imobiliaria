﻿<!doctype html>
<html lang="pt-br">
  <head>

    <title>Formulário - cadastro imóveis</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <script type="text/javascript">
        
        

        var db = openDatabase("Imobiliaria","2.0","Mybase",4048);
        
        db.transaction(function(criar)
        {
           //criar.executeSql("DROP TABLE casa");
           //criar.executeSql("DROP TABLE apartamento");
           criar.executeSql("CREATE TABLE casa (ID INTEGER PRIMARY KEY, tipoimovel TEXT, quartos INTEGER, suites INTEGER, vagas INTEGER, area INTEGER, armario TEXT, salas INTEGER, rua TEXT, numero INTEGER, complemento TEXT,bairro TEXT, aluguel REAL, mensagem TEXT, data TEXT, hora TEXT)");
           criar.executeSql("CREATE TABLE apartamento (ID INTEGER PRIMARY KEY, tipoimovel TEXT, quartos INTEGER, suites INTEGE, vagas INTEGER, area INTEGER, armario TEXT,salas INTEGER, andar INTEGER, condominio INTEGER, portaria TEXT, rua TEXT, numero INTEGER, complemento TEXT, bairro TEXT, aluguel REAL, mensagem TEXT, data TEXT, hora TEXT)");
        });
       
        function salvar()
        {
            var tipoimovel = document.getElementById('tipoimovel').value;
            var quartos = document.getElementById('quartos').value;
            var suites = document.getElementById('suites').value;
            var vagas = document.getElementById('vagas').value;
            var area = document.getElementById('area').value;
            var armario = document.getElementById('armario').value;
            var rua = document.getElementById('rua').value;
            var numero = document.getElementById('numero').value;
            var complemento = document.getElementById('complemento').value;
            var bairro = document.getElementById('bairro').value;
            var aluguel = document.getElementById('aluguel').value;
            var data = document.getElementById('data').value;
            var hora = document.getElementById('hora').value;
            var mensagem = document.getElementById('mensagem').value;
            if(document.getElementById('tipoimovel').value == 'Casa')
            {
                var salas = document.getElementById('salas').value;
                db.transaction(function(armazenar)
                {
                 armazenar.executeSql("INSERT INTO casa(tipoimovel,quartos,suites,vagas,area,armario,rua,numero,complemento,bairro,aluguel,mensagem,salas,data,hora) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[tipoimovel,quartos,suites,vagas,area,armario,rua,numero,complemento,bairro,aluguel,mensagem,salas,data,hora]);
                });

           }
           else if(document.getElementById('tipoimovel').value == 'Apartamento')
           {
                var salas = document.getElementById('salas2').value;
                var andar = document.getElementById('andar').value;
                var condominio = document.getElementById('condominio').value;
                var portaria = document.getElementById('portaria').value;
                db.transaction(function(armazenar)
                {
                 armazenar.executeSql("INSERT INTO apartamento(tipoimovel,quartos,suites,vagas,area,armario,rua,numero,complemento,bairro,aluguel,mensagem,salas,andar,condominio,portaria,data,hora) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)",[tipoimovel,quartos,suites,vagas,area,armario,rua,numero,complemento,bairro,aluguel,mensagem,salas,andar,condominio,portaria,data,hora]);
                });
           }
        }
    </script>
  </head>

  <body style="margin-bottom: 200px;padding: 16px;" class="bg-info">
    <form onsubmit="salvar()">
        <div class="form-group">
            <label for="tipoimovel">Selecione o tipo do imóvel</label>
            <select class="form-control" id="tipoimovel" onChange="funcao()">
                <option value="Apartamento">Apartamento</option>
                <option value="Casa">Casa</option>
            </select>
        </div>
        <div class="form-group">
            <label for="quartos">Quantos quartos?</label>
            <input class="form-control mr-2" id="quartos" type="number" placeholder="Digite quantidade de quartos">
        </div>
        <div class="form-group">
            <label for="suites">Quantas suítes?</label>
            <input class="form-control mr-2" id="suites" type="number" placeholder="Digite quantidade de suítes">
        </div>
        <div class="form-group">
            <label for="vagas">Quantas vagas na garagem?</label>
            <input class="form-control mr-2" id="vagas" type="number" placeholder="Digite quantidade de vagas na garagem">
        </div>
        <div class="form-group">
            <label for="area">Área total?</label>
            <input class="form-control mr-2" id="area" type="number" placeholder="Digite área em metros quadrados">
        </div>
        <div class="form-group">
            <label for="armario">Possui armário embutido?</label>
            <select class="form-control" id="armario">
                  <option value="S">Sim</option>
                  <option value="N">Não</option>
            </select>
        </div>
        
        
        <div id="imovelAp" style="display:block" class="form-group"> 
              <!--<form class="form-inline">-->
              <div class="form-group">
                    <label for="salas">Quantas salas de jantar?</label>
                    <input class="form-control mr-2" id="salas2" type="number" placeholder="Digite quantidade de salas de jantar">
              </div>
              <div class="form-group">
                    <label for="andar">Qual o andar?</label>
                    <input class="form-control mr-2" id="andar" type="number" placeholder="Informe o andar do apartamento">
              </div>
              <div class="form-group">
                    <label for="condominio">Valor do condominio?</label>
                    <input class="form-control mr-2" id="condominio" type="number" placeholder="Digite o valor do condomínio">
              </div>
              <div class="form-group">
                <label for="portaria">Possui portaria 24 horas?</label>
                <select class="form-control" id="portaria">
                    <option value="S">Sim</option>
                    <option value="N">Não</option>
                </select>
              </div>
              <!--</form>-->
        </div>

        <div id="imovelCasa" style="display:none" class="form-group">
            <label for="salas">Quantas salas de estar?</label>
            <input class="form-control mr-2" id="salas" type="number" placeholder="Digite quantidade de salas de estar">
            <!--<br>   -->
        </div>
        <div class="form-group">
            <label for="rua">Informe nome da rua</label>
            <input class="form-control mr-2" id="rua" type="text" placeholder="Digite o nome da rua">
        </div>
        <div class="form-group">
            <label for="numero">Informe número da casa</label>
            <input class="form-control mr-2" id="numero" type="number" placeholder="Digite o número da casa">
        </div>
        <div class="form-group">
            <label "complemento">Informe o complemento para o endereço</label>
            <input class="form-control mr-2" id="complemento" type="text" placeholder="Informe o complemento">
        </div>
        <div class="form-group">
            <label for="bairro">Informe o bairro</label>
            <select class="form-control" id="bairro">
                <option value="Vitoria">Vitória</option>
                <option value="Goania">Goiania</option>
                <option value="Horto">Horto</option>
                <option value="SantaTereza">Santa Tereza</option>
                <option value="Floresta">Floresta</option>
                <option value="VilaDaLuz">Vila Da Luz</option>
            </select>
        </div>
        <div class="form-group">
            <label for="aluguel">Informe o valor do aluguel</label>
            <input class="form-control mr-2" id="aluguel" type="number" placeholder="Digite o valor do aluguel">
        </div>
        <div class="form-group form-inline">
            <input class="btn btn-primary mr-2" onclick="calendario()" type="button" value="Agendar visita">
            
            <div class="form-inline" id="calendario" style="display:none">
                <input class="form-control mr-2" type="date" id="data" name="data">
                <input class="form-control" type="time" id="hora" name="hora">
            </div>        
        </div>
        <script>
            function funcao(){
                var x = document.getElementById("tipoimovel").value;
                if(x=='Apartamento'){
                    document.getElementById("imovelAp").style.display  = "block";
                    document.getElementById("imovelCasa").style.display  = "none";
                }
                if(x=='Casa'){
                    document.getElementById("imovelAp").style.display  = "none";
                    document.getElementById("imovelCasa").style.display  = "block";
                }
            }
            function calendario(){ 
                if(document.getElementById("calendario").style.display !== 'none')  
                    document.getElementById("calendario").style.display  = 'none';
                else
                    document.getElementById("calendario").style.display  = 'block';
            }
        </script>

        <div class="form-group">
            <label for="mensagem">Descrição do imóvel</label>
            <textarea class="form-control" id="mensagem" rows="3"></textarea>
        </div>
        <div class="form-group">
            <input class="btn btn-primary" onclick= "salvar()" type="submit" value="Salvar">
        <div class="form-group">
        <br><br>
    </form>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>